'use client'

import type { Metadata } from 'next'
import { Montserrat } from 'next/font/google'
import './globals.css'
import Navbar from 'components/navbar/Navbar'
import Footer from 'components/footer/Footer'
import styled from '@emotion/styled'
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
import 'slick-carousel/slick/slick.css'
import 'slick-carousel/slick/slick-theme.css'

const MontSerrat = Montserrat({
	subsets: ['latin'],
	weight: ['100', '200', '300', '400', '500', '600', '700']
})

const HTML = styled.html`
	scroll-behavior: smooth;
	button {
		font-family: ${MontSerrat.style.fontFamily};
	}
`

const metadata: Metadata = {
	title: 'Kozina Projekti',
	description: 'Generated by create next app'
}

export default function RootLayout({
	children
}: Readonly<{
	children: React.ReactNode
}>) {
	const queryClient = new QueryClient({
		defaultOptions: {
			queries: {
				staleTime: 1000 * 60 * 5,
				refetchOnWindowFocus: false // Optional: prevent refetch on window focus
			}
		}
	})
	return (
		<QueryClientProvider client={queryClient}>
			<HTML lang="en" className={MontSerrat.className}>
				<head>
					<title>Kozina Projekti</title>
					<link rel="icon" href="/favicon.ico" />
				</head>
				<body>
					<noscript>
						<iframe
							src="https://www.googletagmanager.com/ns.html?id=GTM-PR8P244L"
							height="0"
							width="0"
							style={{ display: 'none', visibility: 'hidden' }}></iframe>
					</noscript>
					<Navbar />
					<div>{children}</div>
					<Footer />
				</body>
			</HTML>
		</QueryClientProvider>
	)
}
